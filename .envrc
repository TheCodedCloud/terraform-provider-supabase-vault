# terraform-provider-supabase-vault Development Environment Configuration
# This file is loaded by direnv to set up project-specific environment variables

# Project Configuration (for Task/Build)
export BINARY_NAME="terraform-provider-supabase-vault"
export MODULE_NAME="github.com/TheCodedCloud/${BINARY_NAME}"
export REGISTRY="ghcr.io"

# Go Configuration
export GOLANG_VERSION="1.25"
export GOPATH="${HOME}/go"
export GO111MODULE="on"
export CGO_ENABLED="0"
export GOPRIVATE="github.com/TheCodedCloud,github.com/JustARecord,github.com/MerchTracker"

# Build Configuration
export BUILD_TIME="$(date -u +%Y-%m-%dT%H:%M:%SZ)"
export VERSION="$(git describe --tags --always --dirty 2>/dev/null || echo 'dev')"
export LDFLAGS="-X main.version=${VERSION} -X main.buildTime=${BUILD_TIME}"
export BUILD_FLAGS="-ldflags=\"${LDFLAGS}\""

# Tools and Paths
export PATH="bin:${GOPATH}/bin:${PATH}"

# Add Homebrew paths (macOS)
if [[ "$OSTYPE" == "darwin"* ]]; then
  export PATH="/opt/homebrew/bin:/opt/homebrew/sbin:${PATH}"
fi

# Development Tools
export GOLANGCI_LINT_VERSION="latest"

# Project-specific aliases (if supported by shell)
echo "üöÄ ${BINARY} development environment loaded!"
echo "üì¶ Binary: ${BINARY_NAME}"
echo "üêπ Go version: ${GOLANG_VERSION}"
echo "üèóÔ∏è  Build version: ${VERSION}"
echo ""
echo "Available commands:"
echo "  task              - Show all available tasks"
echo "  task build        - Build the provider"
echo "  task install      - Install the provider"
echo "  task test         - Run tests"
